version: 2

models:
  - name: dim_product
    description: "Product dimension stream"
    config:
      materialized: stream
      tags: ["silver", "dimension"]
    columns:
      - name: product_id
        description: "Unique product identifier"
      - name: product_name
        description: "Product name"
      - name: category
        description: "Product category"
      - name: brand
        description: "Product brand"
      - name: unit_cost
        description: "Product unit cost"

  - name: dim_customer
    description: "Customer dimension stream"
    config:
      materialized: stream
      tags: ["silver", "dimension"]
    columns:
      - name: customer_id
        description: "Unique customer identifier"
      - name: customer_name
        description: "Customer name"
      - name: customer_segment
        description: "Customer segment (e.g., retail, corporate)"
      - name: loyalty_tier
        description: "Loyalty program tier"
      - name: email
        description: "Customer email address"

  - name: dim_store
    description: "Store dimension stream"
    config:
      materialized: stream
      tags: ["silver", "dimension"]
    columns:
      - name: store_id
        description: "Unique store identifier"
      - name: store_name
        description: "Store name"
      - name: region
        description: "Geographic region"
      - name: city
        description: "City location"
      - name: country
        description: "Country"

  - name: dim_date
    description: "Date dimension stream"
    config:
      materialized: stream
      tags: ["silver", "dimension"]
    columns:
      - name: date_key
        description: "Date in YYYYMMDD format"
      - name: full_date
        description: "Full date"
      - name: day_of_week
        description: "Day of week (1-7)"
      - name: day_name
        description: "Day name (Monday, Tuesday, etc.)"
      - name: week_of_year
        description: "Week number in year"
      - name: month
        description: "Month number (1-12)"
      - name: month_name
        description: "Month name"
      - name: quarter
        description: "Quarter (1-4)"
      - name: year
        description: "Year"

  - name: fact_sales_enriched
    description: "Enriched sales fact stream with dimension context"
    config:
      materialized: stream
      tags: ["silver", "fact", "enriched"]
    columns:
      - name: transaction_id
        description: "Unique transaction identifier"
      - name: event_time
        description: "Transaction timestamp"
      - name: product_name
        description: "Product name from dimension"
      - name: category
        description: "Product category"
      - name: brand
        description: "Product brand"
      - name: customer_name
        description: "Customer name"
      - name: customer_segment
        description: "Customer segment"
      - name: loyalty_tier
        description: "Customer loyalty tier"
      - name: store_name
        description: "Store name"
      - name: region
        description: "Store region"
      - name: city
        description: "Store city"
      - name: quantity
        description: "Quantity purchased"
      - name: unit_price
        description: "Unit price"
      - name: discount
        description: "Discount applied"
      - name: sales_amount
        description: "Total sales amount"
      - name: discount_amount
        description: "Total discount amount"
